from mainnew import *

c00 = "   _____ _      __          __  __     __  ___         ___     \n  / ___/(_)__  / /____      \ \/ /    /  |/  /__  ____/ (_)___ \n  \__ \/ / _ \/ __/ _ \      \  /    / /|_/ / _ \/ __  / / __ \ \n ___/ / /  __/ /_/  __/      / /    / /  / /  __/ /_/ / / /_/ /\n/____/_/\___/\__/\___/      /_/    /_/  /_/\___/\__,_/_/\____/"
c10 = "    ____  ____  ____  ____     ____  __                          \n   / __ )/ __ )/ __ \/ __ \   / __ \/ /___ ___  _____  __________\n  / __  / __  / / / / / / /  / /_/ / / __ `/ / / / _ \/ ___/ ___/\n / /_/ / /_/ / /_/ / /_/ /  / ____/ / /_/ / /_/ /  __/ /  (__  ) \n/_____/_____/_____/_____/  /_/   /_/\__,_/\__, /\___/_/  /____/  \n                                         /____/                  "
c11 = "    _   __                __  __                               ____  __                     \n   / | / /__ _      __   / / / /_  ______ ___  ____ _____     / __ \/ /___ ___  _____  _____\n  /  |/ / _ \ | /| / /  / /_/ / / / / __ `__ \/ __ `/ __ \   / /_/ / / __ `/ / / / _ \/ ___/\n / /|  /  __/ |/ |/ /  / __  / /_/ / / / / / / /_/ / / / /  / ____/ / /_/ / /_/ /  __/ /    \n/_/ |_/\___/|__/|__/  /_/ /_/\__,_/_/ /_/ /_/\__,_/_/ /_/  /_/   /_/\__,_/\__, /\___/_/     \n                                                                         /____/             "
c12 = "    _   __                ____        __     ____  __                     \n   / | / /__ _      __   / __ )____  / /_   / __ \/ /___ ___  _____  _____\n  /  |/ / _ \ | /| / /  / __  / __ \/ __/  / /_/ / / __ `/ / / / _ \/ ___/\n / /|  /  __/ |/ |/ /  / /_/ / /_/ / /_   / ____/ / /_/ / /_/ /  __/ /    \n/_/ |_/\___/|__/|__/  /_____/\____/\__/  /_/   /_/\__,_/\__, /\___/_/     \n                                                       /____/             "
c13 = "   _____ __                        ____                                    ____  __                          \n  / ___// /_  ____ _      __      / __ \___  ____ ___  ____ _   _____     / __ \/ /___ ___  _____  __________\n  \__ \/ __ \/ __ \ | /| / /_____/ /_/ / _ \/ __ `__ \/ __ \ | / / _ \   / /_/ / / __ `/ / / / _ \/ ___/ ___/\n ___/ / / / / /_/ / |/ |/ /_____/ _, _/  __/ / / / / / /_/ / |/ /  __/  / ____/ / /_/ / /_/ /  __/ /  (__  ) \n/____/_/ /_/\____/|__/|__/     /_/ |_|\___/_/ /_/ /_/\____/|___/\___/  /_/   /_/\__,_/\__, /\___/_/  /____/\n                                                                                     /____/                  "
c20 = "   _____      __  __  _                 \n  / ___/___  / /_/ /_(_)___  ____ ______\n  \__ \/ _ \/ __/ __/ / __ \/ __ `/ ___/\n ___/ /  __/ /_/ /_/ / / / / /_/ (__  ) \n/____/\___/\__/\__/_/_/ /_/\__, /____/  \n                          /____/        "
c21 = "   _____      __     ______                        ____  __                          \n  / ___/___  / /_   / ____/___ _____ ___  ___     / __ \/ /___ ___  _____  __________\n  \__ \/ _ \/ __/  / / __/ __ `/ __ `__ \/ _ \   / /_/ / / __ `/ / / / _ \/ ___/ ___/\n ___/ /  __/ /_   / /_/ / /_/ / / / / / /  __/  / ____/ / /_/ / /_/ /  __/ /  (__  ) \n/____/\___/\__/   \____/\__,_/_/ /_/ /_/\___/  /_/   /_/\__,_/\__, /\___/_/  /____/  \n                                                             /____/                  "
c22 = "       __          __            ____                       __    \n  ____/ /__  _____/ /__   ____  / __/  _________ __________/ /____\n / __  / _ \/ ___/ //_/  / __ \/ /_   / ___/ __ `/ ___/ __  / ___/\n/ /_/ /  __/ /__/ ,<    / /_/ / __/  / /__/ /_/ / /  / /_/ (__  ) \n\__,_/\___/\___/_/|_|   \____/_/     \___/\__,_/_/   \__,_/____/  \n                                                                  "
c23 = "   _____      __     __  ___              ____                        __    \n  / ___/___  / /_   /  |/  /___ __  __   / __ \____  __  ______  ____/ /____\n  \__ \/ _ \/ __/  / /|_/ / __ `/ |/_/  / /_/ / __ \/ / / / __ \/ __  / ___/\n ___/ /  __/ /_   / /  / / /_/ />  <   / _, _/ /_/ / /_/ / / / / /_/ (__  ) \n/____/\___/\__/  /_/  /_/\__,_/_/|_|  /_/ |_|\____/\__,_/_/ /_/\__,_/____/  \n                                                                            "
c40 = "    ____              __   _            \n   / __ \____ _____  / /__(_)___  ____ _\n  / /_/ / __ `/ __ \/ //_/ / __ \/ __ `/\n / _, _/ /_/ / / / / ,< / / / / / /_/ / \n/_/ |_|\__,_/_/ /_/_/|_/_/_/ /_/\__, /  \n                               /____/   "
c41 = "    __  ___                   ______                 _                 \n   /  |/  /___  ________     / ____/___ __________  (_)___  ____ ______\n  / /|_/ / __ \/ ___/ _ \   / __/ / __ `/ ___/ __ \/ / __ \/ __ `/ ___/\n / /  / / /_/ / /  /  __/  / /___/ /_/ / /  / / / / / / / / /_/ (__  ) \n/_/  /_/\____/_/   \___/  /_____/\__,_/_/  /_/ /_/_/_/ /_/\__, /____/  \n                                                         /____/        "
c42 = "    __  ___                   ______                             ____  __                     __\n   /  |/  /___  ________     / ____/___ _____ ___  ___  _____   / __ \/ /___ ___  _____  ____/ /\n  / /|_/ / __ \/ ___/ _ \   / / __/ __ `/ __ `__ \/ _ \/ ___/  / /_/ / / __ `/ / / / _ \/ __  / \n / /  / / /_/ / /  /  __/  / /_/ / /_/ / / / / / /  __(__  )  / ____/ / /_/ / /_/ /  __/ /_/ /  \n/_/  /_/\____/_/   \___/   \____/\__,_/_/ /_/ /_/\___/____/  /_/   /_/\__,_/\__, /\___/\__,_/   \n                                                                           /____/               "
c43 = "    __  ___                             _             __               ____  __                     __\n   /  |/  /___  ________     ____ ___  (_)___  __  __/ /____  _____   / __ \/ /___ ___  _____  ____/ /\n  / /|_/ / __ \/ ___/ _ \   / __ `__ \/ / __ \/ / / / __/ _ \/ ___/  / /_/ / / __ `/ / / / _ \/ __  / \n / /  / / /_/ / /  /  __/  / / / / / / / / / / /_/ / /_/  __(__  )  / ____/ / /_/ / /_/ /  __/ /_/ /  \n/_/  /_/\____/_/   \___/  /_/ /_/ /_/_/_/ /_/\__,_/\__/\___/____/  /_/   /_/\__,_/\__, /\___/\__,_/   \n                                                                                 /____/               "
c50 = "    ____                        __      \n   / __ \___  ____  ____  _____/ /______\n  / /_/ / _ \/ __ \/ __ \/ ___/ __/ ___/\n / _, _/  __/ /_/ / /_/ / /  / /_(__  ) \n/_/ |_|\___/ .___/\____/_/   \__/____/  \n          /_/                           "
inme = "Option: "
puntos = '*' * 70

x = 0
while x >= 0:
    x = menu(c00, "1)Add/Remove/Show Players\n2)Settings\n3)Play Game\n4)Ranking\n5)Reports\n6)Exit", inme,
             [1, 2, 3, 4, 5, 6])
    if x == 1:
        xu = menu(c10, "1)New Human Player\n2)New Boot\n3)Show/Remove Players\n4)Go back", inme, [1, 2, 3, 4])
        if xu == 1:
            hum = True
            nn = newName()
            nd = newDni(hum)
            np = newProfile()
            a = newPlayer(nd, nn, np, hum)
            res = yn('Are you sure?', 'Y/n')
            if res:
                mycursor.execute("INSERT INTO player (player_id, player_name, player_risk, human) VALUES (%s,%s,%s,%s)",
                                 (nd, nn, np, hum))
                db.commit()
                x = 1
            elif not res:
                x = 1
        elif xu == 2:
            hum = False
            nn = newName()
            nd = newDni(hum)
            np = newProfile()
            a = newPlayer(nd, nn, np, hum)
            res = yn('Are you sure?', 'Y/n')
            if res:
                mycursor.execute("INSERT INTO player (player_id, player_name, player_risk, human) VALUES (%s,%s,%s,%s)",
                                 (nd, nn, np, hum))
                db.commit()
                x = 1
            elif not res:
                x = 1
        elif xu == 3:
            rem = True
            xus = adrem(c13, '-1)Exit\nID)Remove player', inme, rem, ['-1'])
            if xus == '-1':
                x = 1
        if xu == 4:
            x = 0
    elif x == 2:
        xd = menu(c20, "1)Set Game Players\n2)Set Card's Deck\n3)Set Max Rounds (Default 5 Rounds)\n4)Go back)", inme,
                  [1, 2, 3, 4])
        if xd == 1:
            ru = False
            ka = adrem(c21, 'ID)Add player to game\n-1)Exit', inme, ru, ['-1'])
        elif xd == 2:
            cartaesc = escogermazo()
        elif xd == 3:
            roundmax()
        elif xd == 4:
            x = 1
    elif x == 3:
        conto = 0
        for cp in contextgame['players']:
            conto += 1
        if not contextgame['players'] or not contextgame['mazo'] or not contextgame['rounds']:
            print('You have to configure all the settings for play')
        elif conto < 3 or conto > 6:
            print('numbers of players not valid')
        else:
            setGamePriority(cartaesc)
            orderAllPlayers()
            resetPoints()
            rondas = contextgame['rounds']
            twop = True
            roundcon = 0
            while roundcon < rondas and twop:
                roundcon += 1
                mat = list(cartaesc.keys())
                for x in ordjug:
                    players[x]['roundPoints'] = ''
                    players[x]['cards'] = []
                    players[x]['bet'] = ''
                for s in ordjug:
                    standarRound(s, mat, players[s]['cards'], cartaesc)
                    nextp = True
                    puntosronda = []
                    banp = False
                    print(c00)
                    print(f'Round {roundcon}')
                    printStats(cadenainfo, s)
                    if not players[s]['human']:
                        while not banp:
                            human = False
                            standarRound(s, mat, players[s]['cards'], cartaesc, human, banp)
                            for pr in puntosronda:
                                if players[s]['bank'] and players[s]['roundPoints'] < pr:
                                    banp = False
                                    human = True
                                    standarRound(s, mat, players[s]['cards'], cartaesc, human, banp)
                            human = False
                            puntosronda.append(players[s]['roundPoints'])
                            banp = True
                            setBets(s, human)
                    while players[s]['human'] and nextp and not banp:
                        print(c00)
                        o = getOpt(
                            '1)View Stats\n2)View Game Stats\n3)Set Bet\n4)Order Card\n5)Automatic Play\n6)Stand', inme,
                            [1, 2, 3, 4, 5, 6])
                        if o == 1:
                            printStats(cadenainfo, s)
                        elif o == 2:
                            printPlayerStats(s)
                        elif o == 3:
                            humans = True
                            setBets(s, humans)
                        elif o == 4:
                            auto = False
                            standarRound(s, mat, players[s]['cards'], cartaesc, auto, banp)
                        elif o == 5:
                            auto = True
                            standarRound(s, mat, players[s]['cards'], cartaesc, auto, banp)
                        elif o == 6:
                            if players[s]['bet'] == "":
                                print('You cant stand without setting a bet')
                                nextp = True
                            else:
                                nextp = False
                            for pr in puntosronda:
                                if players[s]['bank'] and players[s]['points'] < pr:
                                    banp = True
                                    print('You must draw a card')
                                else:
                                    nextp = True
                                    banp = False
                print(c00)
                print('END OF ROUND')
                printStats(cadenainfo)
                distributionPointAndNewBankCandidates()
                newbank()
            listapuntos = []
            for i in players:
                listapuntos.append(players[i]['points'])
            listapuntos.sort(reverse=True)
            for a in players:
                if listapuntos[0] == players[a]['points']:
                    print(f'El ganador es {players[a]["name"]}')
            playcont = []
            players = {}
            x = 0
    elif x == 4:
        input('Not implemented')
        # if xq == 1:
        # elif xq == 2:
        # elif xq == 3:
        # elif xq == 4:
    elif x == 5:
        input('Not implemented')
        # if xc == 1:
        # elif xc == 2:
        # elif xc == 3:
        # elif xc == 4:
        # elif xc == 5:
        # elif xc == 6:
        # elif xc == 7:
        # elif xc == 8:
        # elif xc == 9:
        # elif xc == 10:
        # elif xc == 11:

    elif x == 6:
        exit()
